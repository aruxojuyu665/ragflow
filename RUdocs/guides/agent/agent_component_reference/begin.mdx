---
sidebar_position: 1
slug: /begin_component
---

# Компонент Begin

Начальный компонент в рабочем процессе.

---

Компонент **Begin** задаёт приветственное сообщение или принимает ввод от пользователя. Он автоматически добавляется на холст при создании агента, будь то из шаблона или с нуля (из пустого шаблона). В рабочем процессе должен быть только один компонент **Begin**.

## Сценарии

Компонент **Begin** необходим во всех случаях. Каждый агент включает компонент **Begin**, который нельзя удалить.

## Конфигурации

Нажмите на компонент, чтобы открыть окно **Configuration** (Конфигурация). Здесь вы можете задать приветственное сообщение и входные параметры (глобальные переменные) для агента.

### Режим

Режим определяет, как запускается рабочий процесс.

- Conversational (Разговорный): агент запускается из разговора.
- Task (Задача): агент запускается без разговора.

### Приветственное сообщение

**Только для разговорного режима.**

Агент в разговорном режиме начинает с приветственного сообщения. Это первое сообщение агента пользователю в разговорном режиме, которое может быть приветственным замечанием или инструкцией для дальнейших действий.

### Глобальные переменные

Вы можете определить глобальные переменные в компоненте **Begin**, которые могут быть обязательными или необязательными. После установки пользователи должны будут предоставить значения для этих переменных при взаимодействии с агентом. Нажмите **+ Add variable** (Добавить переменную), чтобы добавить глобальную переменную с следующими атрибутами:

- **Name** (Имя): _Обязательно_  
  Описательное имя, предоставляющее дополнительные сведения о переменной.  
- **Type** (Тип): _Обязательно_  
  Тип переменной:
  - **Single-line text** (Однострочный текст): Принимает одну строку текста без переносов.
  - **Paragraph text** (Многострочный текст): Принимает несколько строк текста, включая переносы.
  - **Dropdown options** (Выпадающий список): Требует от пользователя выбрать значение из выпадающего меню. Необходимо задать _минимум_ один вариант для выпадающего списка.
  - **file upload** (Загрузка файла): Требует от пользователя загрузить один или несколько файлов.
  - **Number** (Число): Принимает числовое значение.
  - **Boolean** (Булев): Требует переключения между включено и выключено.
- **Key** (Ключ): _Обязательно_  
  Уникальное имя переменной.
- **Optional** (Необязательно): Переключатель, указывающий, является ли переменная необязательной.

:::tip NOTE
Для передачи параметров с клиента используйте:

- HTTP метод [Converse with agent](../../../references/http_api_reference.md#converse-with-agent), или
- Python метод [Converse with agent](../../../references/python_api_reference.md#converse-with-agent).
  :::

:::danger IMPORTANT
Если вы установите тип ключа как **file**, убедитесь, что количество токенов загруженного файла не превышает максимальный лимит токенов вашего провайдера модели; в противном случае обычный текст в вашем файле будет усечён и неполным.
:::

:::note
Вы можете оптимизировать разбор документов и эффективность встраивания, задав переменные окружения `DOC_BULK_SIZE` и `EMBEDDING_BATCH_SIZE`.
:::

## Часто задаваемые вопросы

### Загружается ли файл в датасет?

Нет. Файлы, загруженные в агента в качестве входных данных, не сохраняются в датасете и, следовательно, не обрабатываются встроенными в RAGFlow моделями OCR, DLR или TSR, а также не разбиваются с помощью встроенных методов chunking RAGFlow.

### Ограничение размера файла для загрузки

Специфического ограничения размера файла для загрузки в агента нет. Однако следует учитывать, что провайдеры моделей обычно имеют стандартный или явный максимальный лимит токенов, который может варьироваться от 8196 до 128k: текстовая часть загруженного файла передаётся как значение ключа, но если количество токенов файла превышает этот лимит, строка будет усечена и неполной.

:::tip NOTE
Переменные `MAX_CONTENT_LENGTH` в `/docker/.env` и `client_max_body_size` в `/docker/nginx/nginx.conf` задают ограничение размера файла для каждой загрузки в датасет или **File Management** (Управление файлами). Эти настройки НЕ применяются в данном сценарии.
:::