---
sidebar_position: 37
slug: /transformer_component
---

# Компонент Transformer (Трансформер)

Компонент, который использует LLM для извлечения информации из чанков.

---

Компонент **Transformer** индексирует чанки и настраивает их форматы хранения в документном движке. Обычно он *предшествует* компоненту **Indexer** в конвейере обработки данных, но также можно последовательно объединять несколько компонентов **Transformer**.

## Сценарий

Компонент **Transformer** необходим, когда требуется, чтобы LLM извлекал новую информацию, такую как ключевые слова, вопросы, метаданные и резюме, из исходных чанков.

## Настройки

### Модель

Нажмите на выпадающее меню **Model**, чтобы открыть окно настройки модели.

- **Model**: Используемая чат-модель.  
  - Убедитесь, что вы правильно настроили чат-модель на странице **Model providers**.
  - Для разных компонентов можно использовать разные модели для повышения гибкости или улучшения общей производительности.
- **Creativity** (Креативность): Быстрый доступ к настройкам **Temperature**, **Top P**, **Presence penalty** и **Frequency penalty**, отражающим уровень свободы модели. От **Improvise**, через **Precise**, до **Balance** — каждая предустановка соответствует уникальной комбинации параметров **Temperature**, **Top P**, **Presence penalty** и **Frequency penalty**.  
  Этот параметр имеет три варианта:
  - **Improvise**: Генерирует более креативные ответы.
  - **Precise**: (По умолчанию) Генерирует более консервативные ответы.
  - **Balance**: Средний вариант между **Improvise** и **Precise**.
- **Temperature**: Уровень случайности вывода модели.  
  По умолчанию 0.1.
  - Низкие значения приводят к более детерминированным и предсказуемым ответам.
  - Высокие значения приводят к более креативным и разнообразным ответам.
  - Температура 0 означает одинаковый вывод для одного и того же запроса.
- **Top P**: Ядровая выборка (Nucleus sampling).  
  - Снижает вероятность генерации повторяющегося или неестественного текста, устанавливая порог *P* и ограничивая выбор токенов кумулятивной вероятностью выше *P*.
  - По умолчанию 0.3.
- **Presence penalty**: Поощряет модель включать более разнообразный набор токенов в ответ.  
  - Более высокое значение **presence penalty** увеличивает вероятность генерации токенов, которые ещё не были использованы в тексте.
  - По умолчанию 0.4.
- **Frequency penalty**: Предотвращает слишком частое повторение одних и тех же слов или фраз в сгенерированном тексте.  
  - Более высокое значение **frequency penalty** делает модель более сдержанной в использовании повторяющихся токенов.
  - По умолчанию 0.7.
- **Max tokens**:  
  Устанавливает максимальную длину вывода модели в количестве токенов (слов или частей слов). По умолчанию отключено, что позволяет модели самостоятельно определять длину ответа.

:::tip NOTE
- Не обязательно использовать одну и ту же модель для всех компонентов. Если конкретная модель плохо справляется с задачей, рассмотрите возможность использования другой.
- Если вы не уверены в механизме работы параметров **Temperature**, **Top P**, **Presence penalty** и **Frequency penalty**, просто выберите один из трёх вариантов **Creativity**.
:::

### Место назначения результата

Выберите тип вывода, который должен сгенерировать LLM:

- Резюме
- Ключевые слова
- Вопросы
- Метаданные

### Системный prompt

Обычно системный prompt используется для описания задачи для LLM, указания того, как он должен отвечать, и других дополнительных требований. Мы не планируем подробно рассматривать эту тему, так как она может быть столь же обширной, как и prompt engineering (инженерия подсказок).

:::tip NOTE
Системный prompt здесь автоматически обновляется в соответствии с выбранным **Result destination**.
:::

### Пользовательский prompt

Пользовательский prompt. Например, вы можете ввести `/` или нажать **(x)**, чтобы вставить переменные из предыдущих компонентов в конвейере обработки данных в качестве входных данных для LLM.

### Вывод

Глобальное имя переменной для вывода компонента **Transformer**, к которому могут обращаться последующие компоненты **Transformer** в конвейере обработки данных.

- По умолчанию: `chunks`
- Тип: `Array<Object>`