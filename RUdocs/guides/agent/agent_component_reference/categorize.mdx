---
sidebar_position: 8
slug: /categorize_component
---

# Компонент Categorize (Категоризация)

Компонент, который классифицирует пользовательские вводы и применяет соответствующие стратегии.

---

Компонент **Categorize** обычно является последующим после компонента **Interact**.

## Сценарии

Компонент **Categorize** необходим, когда требуется, чтобы LLM помог определить намерения пользователя и применить соответствующие стратегии обработки.

## Настройки

### Переменные запроса

*Обязательно*

Выберите источник для категоризации.

Компонент **Categorize** опирается на переменные запроса для указания входных данных (запросов). Все глобальные переменные, определённые до компонента **Categorize**, доступны в выпадающем списке.

### Входные данные

Компонент **Categorize** использует входные переменные для указания своих входных данных (запросов). Нажмите **+ Add variable** в разделе **Input**, чтобы добавить необходимые входные переменные. Существуют два типа входных переменных: **Reference** и **Text**.

- **Reference**: Использует вывод компонента или пользовательский ввод в качестве источника данных. Требуется выбрать из выпадающего меню:
  - ID компонента в разделе **Component Output**, или
  - глобальную переменную в разделе **Begin input**, которая определена в компоненте **Begin**.
- **Text**: Использует фиксированный текст в качестве запроса. Требуется ввести статический текст.

### Модель

Нажмите на выпадающее меню **Model**, чтобы открыть окно конфигурации модели.

- **Model**: Используемая чат-модель.  
  - Убедитесь, что модель корректно настроена на странице **Model providers**.
  - Для разных компонентов можно использовать разные модели для повышения гибкости или улучшения общей производительности.
- **Creavity**: Быстрый доступ к настройкам **Temperature**, **Top P**, **Presence penalty** и **Frequency penalty**, определяющим уровень свободы модели. От **Improvise**, через **Precise**, до **Balance** — каждая предустановка соответствует уникальной комбинации этих параметров.  
  Параметр имеет три варианта:  
  - **Improvise**: Генерирует более креативные ответы.
  - **Precise**: (По умолчанию) Генерирует более консервативные ответы.
  - **Balance**: Средний вариант между **Improvise** и **Precise**.
- **Temperature**: Уровень случайности вывода модели.  
  По умолчанию 0.1.  
  - Низкие значения приводят к более детерминированным и предсказуемым ответам.
  - Высокие значения — к более творческим и разнообразным ответам.
  - Значение ноль приводит к одинаковому выводу для одного и того же запроса.
- **Top P**: Nucleus sampling (ядровая выборка).  
  - Снижает вероятность генерации повторяющегося или неестественного текста, устанавливая порог *P* и ограничивая выбор токенов с накопленной вероятностью выше *P*.
  - По умолчанию 0.3.
- **Presence penalty**: Поощряет модель включать более разнообразный набор токенов в ответ.  
  - Более высокое значение увеличивает вероятность генерации токенов, ещё не использованных в тексте.
  - По умолчанию 0.4.
- **Frequency penalty**: Снижает вероятность повторения одних и тех же слов или фраз в тексте.  
  - Более высокое значение делает модель более консервативной в использовании повторяющихся токенов.
  - По умолчанию 0.7.
- **Max tokens**:  
  Максимальная длина вывода модели в количестве токенов (слов или частей слов). По умолчанию отключено, что позволяет модели самостоятельно определять длину ответа.

:::tip NOTE
- Нет необходимости использовать одну и ту же модель для всех компонентов. Если конкретная модель плохо справляется с задачей, рассмотрите возможность использования другой.
- Если вы не уверены в механизме работы **Temperature**, **Top P**, **Presence penalty** и **Frequency penalty**, просто выберите один из трёх вариантов **Creavity**.
:::

### Размер окна сообщений

Целое число, указывающее количество предыдущих раундов диалога, которые будут переданы в LLM. Например, при значении 12 токены из последних 12 раундов диалога будут поданы на вход LLM. Эта функция потребляет дополнительные токены.

По умолчанию 1.

:::tip IMPORTANT
Эта функция используется только для многоходового диалога. Если ваш компонент **Categorize** не является частью многоходового диалога (то есть не находится в цикле), оставьте это поле без изменений.
:::

### Название категории

Компонент **Categorize** должен содержать как минимум две категории. В этом поле задаётся имя категории. Нажмите **+ Add Item**, чтобы добавить необходимые категории.

:::tip NOTE
Вы заметите, что имя категории заполняется автоматически. Не беспокойтесь. Каждой категории при создании присваивается случайное имя. Вы можете изменить его на понятное для LLM.
:::

#### Описание

Описание данной категории.

Вы можете указать критерии, ситуации или информацию, которая поможет LLM определить, какие вводы относятся к этой категории.

#### Примеры

Дополнительные примеры, которые могут помочь LLM определить, какие вводы относятся к этой категории.

:::danger IMPORTANT
Примеры более полезны, чем описание, если вы хотите, чтобы LLM классифицировал конкретные случаи в эту категорию.
:::

После добавления новой категории перейдите к компоненту **Categorize** на холсте, найдите кнопку **+** рядом с кейсом и нажмите её, чтобы указать последующий компонент(ы).

#### Вывод

Имя глобальной переменной для вывода компонента, к которой могут обращаться другие компоненты в рабочем процессе. По умолчанию `category_name`.