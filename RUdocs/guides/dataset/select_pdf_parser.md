---
sidebar_position: -4
slug: /select_pdf_parser
---

# Выбор парсера PDF

Выберите визуальную модель для парсинга ваших PDF-документов.

---

RAGFlow не является универсальным решением. Он создан для гибкости и поддерживает более глубокую настройку, чтобы удовлетворить более сложные сценарии использования. Начиная с версии v0.17.0, RAGFlow разделяет задачи извлечения данных, специфичные для DeepDoc, и методы разбиения на чанки **для PDF-файлов**. Такое разделение позволяет вам самостоятельно выбрать визуальную модель для задач OCR (оптическое распознавание символов), TSR (распознавание структуры таблиц) и DLR (распознавание структуры документа), которая сбалансирует скорость и производительность в соответствии с вашими конкретными задачами. Если ваши PDF содержат только простой текст, вы можете пропустить эти задачи, выбрав опцию **Naive**, чтобы сократить общее время парсинга.

![извлечение данных](https://raw.githubusercontent.com/infiniflow/ragflow-docs/main/images/data_extraction.jpg)

## Предварительные требования

- Выпадающее меню парсера PDF появляется только при выборе метода разбиения на чанки, совместимого с PDF, включая:
    - **General**
    - **Manual**
    - **Paper**
    - **Book**
    - **Laws**
    - **Presentation**
    - **One**
- Для использования сторонней визуальной модели для парсинга PDF убедитесь, что вы установили модель img2txt по умолчанию в разделе **Set default models** на странице **Model providers**.

## Быстрый старт

1. На странице **Configuration** вашего набора данных выберите метод разбиения на чанки, например, **General**.

   _Появится выпадающее меню **PDF parser**._

2. Выберите опцию, которая лучше всего подходит для вашего сценария:

  - DeepDoc: (По умолчанию) Стандартная визуальная модель, выполняющая задачи OCR, TSR и DLR для PDF, что может занимать значительное время.
  - Naive: Пропустить задачи OCR, TSR и DLR, если *все* ваши PDF содержат простой текст.
  - MinerU: Экспериментальная функция.
  - Сторонняя визуальная модель, предоставленная конкретным провайдером моделей.

:::danger ВАЖНО
Парсинг PDF-документов с помощью MinerU доступен начиная с версии v0.21.1. Для использования этой функции выполните следующие шаги:

1. Перед развертыванием ragflow-server обновите файл **docker/.env**:  
   - Включите `HF_ENDPOINT=https://hf-mirror.com`
   - Добавьте запись MinerU: `MINERU_EXECUTABLE=/ragflow/uv_tools/.venv/bin/mineru`

2. Запустите ragflow-server и выполните следующие команды внутри контейнера:  

```bash
mkdir uv_tools
cd uv_tools
uv venv .venv
source .venv/bin/activate
uv pip install -U "mineru[core]" -i https://mirrors.aliyun.com/pypi/simple
```

3. Перезапустите ragflow-server.
4. В веб-интерфейсе перейдите на страницу **Configuration** вашего набора данных. Нажмите **Built-in** в разделе **Ingestion pipeline**, выберите метод разбиения на чанки из выпадающего списка **Built-in**, который поддерживает парсинг PDF, и выберите **MinerU** в поле **PDF parser**.
5. Если вы используете кастомный ingestion pipeline, необходимо также выполнить первые три шага перед выбором **MinerU** в разделе **Parsing method** компонента **Parser**.
:::

:::caution ВНИМАНИЕ
Сторонние визуальные модели отмечены как **Experimental** (экспериментальные), поскольку мы не полностью протестировали эти модели для упомянутых задач извлечения данных.
:::

## Часто задаваемые вопросы

### Когда следует выбирать DeepDoc или стороннюю визуальную модель в качестве парсера PDF?

Используйте визуальную модель для извлечения данных, если ваши PDF содержат форматированный или основанный на изображениях текст, а не простой текст. DeepDoc является моделью по умолчанию, но может работать медленно. Вы также можете выбрать легковесную или высокопроизводительную модель img2txt в зависимости от ваших потребностей и возможностей оборудования.

### Могу ли я выбрать визуальную модель для парсинга моих DOCX файлов?

Нет, нельзя. Это выпадающее меню предназначено только для PDF. Чтобы использовать эту функцию, сначала конвертируйте ваши DOCX файлы в PDF.