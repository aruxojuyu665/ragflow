---
sidebar_position: -2
slug: /set_page_rank
---

# Установка page rank (ранга страницы)

Создайте стратегию пошагового извлечения с использованием page rank.

---

## Сценарий

В AI-чатах с поддержкой искусственного интеллекта вы можете настроить чат-ассистента или агента для ответа с использованием знаний, извлечённых из нескольких указанных наборов данных (datasets), при условии, что они используют одну и ту же модель эмбеддинга. В случаях, когда вы хотите, чтобы информация из определённых наборов данных имела приоритет или извлекалась первой, вы можете использовать функцию page rank в RAGFlow для повышения ранга чанков из этих наборов данных. Например, если вы настроили чат-ассистента для работы с двумя наборами данных: dataset A для новостей 2024 года и dataset B для новостей 2023 года, но хотите отдавать приоритет новостям 2024 года, эта функция будет особенно полезна.

:::info NOTE
Важно отметить, что функция «page rank» работает на уровне всего набора данных, а не на уровне отдельных файлов или документов.
:::

## Конфигурация

На странице **Configuration** вашего набора данных перетащите ползунок под заголовком **Page rank**, чтобы установить значение page rank для вашего набора данных. Также вы можете ввести желаемое значение page rank в поле рядом с ползунком.

:::info NOTE
Значение page rank должно быть целым числом. Диапазон: [0,100]

- 0: отключено (по умолчанию)
- Конкретное значение: включено
:::

:::tip NOTE
Если вы установите значение page rank нецелым числом, например 1.7, оно будет округлено вниз до ближайшего целого, в данном случае — до 1.
:::

## Механизм оценки

Если вы настроите **similarity threshold** (порог сходства) чат-ассистента на 0.2, будут извлекаться и передаваться в модель чата для генерации контента только чанки с гибридным скором выше 0.2 x 100 = 20. Этот начальный этап фильтрации важен для сужения релевантной информации.

Если вы назначите page rank 1 для dataset A (новости 2024 года) и 0 для dataset B (новости 2023 года), итоговые гибридные скоры извлечённых чанков будут скорректированы соответственно. Чанк, извлечённый из dataset A с исходным скором 50, получит бонус в 1 x 100 = 100 очков, в результате итоговый скор составит 50 + 1 x 100 = 150. Таким образом, чанки из dataset A всегда будут иметь приоритет перед чанками из dataset B.