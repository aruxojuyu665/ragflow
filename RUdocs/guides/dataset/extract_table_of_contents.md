---
sidebar_position: 4
slug: /enable_table_of_contents
---

# Извлечение оглавления

Извлекайте оглавление (TOC, table of contents) из документов для обеспечения долгого контекста в RAG (retrieval-augmented generation) и улучшения поиска.

---

Во время индексирования эта техника использует LLM для извлечения и генерации информации о главах, которая добавляется к каждому чанку для обеспечения достаточного глобального контекста. На этапе поиска сначала используются чанки, совпавшие по запросу, затем недостающие чанки дополняются на основе структуры оглавления. Это решает проблемы, вызванные фрагментацией чанков и недостаточным контекстом, улучшая качество ответов.

:::danger WARNING
Включение извлечения TOC требует значительных ресурсов памяти, вычислительных мощностей и токенов.
:::

## Предварительные требования

Для суммирования сгруппированного контента используется системная модель чата по умолчанию. Перед началом убедитесь, что у вас правильно настроена модель чата:

![Установите модели по умолчанию](https://raw.githubusercontent.com/infiniflow/ragflow-docs/main/images/set_default_models.jpg)

## Быстрый старт

1. Перейдите на страницу **Configuration**.

2. Включите **TOC Enhance**.

3. Чтобы использовать эту технику во время поиска, выполните одно из следующих действий:
   
   - В панели **Chat setting** вашего чат-приложения включите переключатель **TOC Enhance**.
   - Если вы используете агент, нажмите на компонент агента **Retrieval**, чтобы указать набор(ы) данных и включить переключатель **TOC Enhance**.

## Часто задаваемые вопросы

### Будут ли ранее проанализированные файлы искаться с использованием функции улучшения TOC после включения `TOC Enhance`?

Нет. Только файлы, проанализированные после включения **TOC Enhance**, будут искаться с использованием функции улучшения TOC. Чтобы применить эту функцию к файлам, проанализированным до включения **TOC Enhance**, необходимо выполнить их повторный разбор.